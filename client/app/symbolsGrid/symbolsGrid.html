<div class="container-fluid">
  <!--  <img ng-src="{{event.imageUrl}}" alt="{{event.name}}"> -->

  <h4>{{ symbolsGridCtrl.watchlist.name }} Grid
    <small><small>as on {{ symbolsGridCtrl.quoteTime | date : 'HH:mm:ss' : '+0530'}} IST fetched at {{symbolsGridCtrl.refreshTime | date : 'HH:mm:ss' : '+0800'}} SGT </small></small>
  </h4>

  <uib-accordion>
    <uib-accordion-group>
      <uib-accordion-heading>
        <button type="button" class="btn btn-info" aria-label="Left Align">
            <span class="glyphicon glyphicon-filter" aria-hidden="true"></span> Filter
          </button>
      </uib-accordion-heading>
      <form class="form-inline">
        <div class="form-group">
          <label for="sortBy"> Sort By : </label>
          <select name="sortBy" id="sortBy" ng-model="symbolsGridCtrl.sortBy" class="form-control">
            <option value="symbol" selected>Symbol</option>
<!--
            <option value="-quote.per*1.0">Change(Desc)</option>
            <option value="quote.per*1.0">Change(Asc)</option>
            <option value="-quote.mPC*1.0">30D Change(Desc)</option>
            <option value="quote.mPC*1.0">30D Change(Asc)</option>
            <option value="-quote.yPC*1.0">52W Change(Desc)</option>
            <option value="quote.yPC*1.0">52W Change(Asc)</option>
-->

            <option value="quote.per">Change(+/-)</option>
            <option value="quote.mPC">30D Change(+/-)</option>
            <option value="quote.yPC">52W Change(+/-)</option>


          </select>
        </div>
        <div class="form-group">
          <label for="beta"> Beta :</label>
          <select name="beta" id="beta" ng-model="symbolsGridCtrl.query.level" class="form-control" ng-options="o.value as o.label for o in symbolsGridCtrl.betaFilterOptions">
            <!--
         <option selected="true" value="{}">All</option>
          <option value="0.5" >less than 0.5</option>
          <option value="1" > between 0.5 and 1.5 </option>
          <option value="1.5" >greater than 1.5</option>
        -->
          </select>

        </div>
        <div class="form-group">
          <label for="symbName"> Name :</label>
          <input id="symbName" name="symbName" class="form-control" type="text" required ng-pattern="/^[a-zA-Z0-9]*$/" ng-model="symbolsGridCtrl.query.key"
            placeholder="filter by name" />
          <!-- <br> key : <div ng-bind-html="$sce.trustAsHtml(symbolsGridCtrl.query.key)"> </div> -->
        </div>
      </form>
    </uib-accordion-group>
  </uib-accordion>
  <!-- Gutter3 = reduced padding -->
  <uib-accordion close-others="true">
    <div class="row gutter-3">

      <!--TD// new row after every four -->
      <!-- correctly reduce padding
      <!--Use a filter to identify selected instead of manipulating the model -->
      <div class="col-md-3 col-xs-12 cols-sm-4" ng-repeat="symbol in symbolsGridCtrl.watchlist.symbols | orderBy:symbolsGridCtrl.getSortOrder | limitTo:50 | filter:symbolsGridCtrl.query">

        <uib-accordion-group class="{{'panel panel-rounded ' + ((symbol.symbol == symbolsGridCtrl.selectedSymbol) ? 'panel-info' : 'panel-default') }}"
          ng-click="symbolsGridCtrl.toggleSelectedSymbol(symbol.symbol)">

        <uib-accordion-heading class="panel-heading panel-heading-rounded">
          <div class="row gutter-2">
            <div class="col-md-4 col-xs-4 col-sm-4">
              <h5 class="panel-title">
                <strong> {{symbol.symbol | uppercase}} </strong>
              </h5>
            </div>
            <div class="col-md-4 col-xs-4 col-sm-4 pull-right">
              <small ng-if="symbol.quote">
                    {{ 1 * symbol.quote.ltP.replace(',','') | currency}}
                    <!-- TD: Convert to filter -->
                    <span ng-class="'quote-pchg-'+ (symbol.quote.per | moveSize : [2,5,7])">
                      <!-- | movesize : [2,5,7] -->
                      {{symbol.quote.per| number:1 }}%
                </ng-if>

              </small>

            </div>

          </div>

          <div class="row gutter-2">
            <div class="col-md-12 col-xs-12 col-sm-12">
              <small><small>{{symbol.name | limitTo:60}}</small></small>
            </div>
          </div>
        </uib-accordion-heading>

        <div class="panel-body">
          <div class="row gutter-1">
            <!-- Not working on small devices -->
            <div class="col-md-3 col-xs-3 col-sm-3 text-right">
              <small><small>Last Price : </small></small>
            </div>
            <div class="col-md-3 col-xs-3 col-sm-3">
              {{ 1 * symbol.quote.ltP.replace(',','') | currency}}   <!-- TD: Convert to filter -->
            </div>

            <div class="col-md-3 col-xs-3 col-sm-3 text-right">
              <small><small>Change% : </small></small>
            </div>
            <div class="col-md-3 col-xs-3 col-sm-3" ng-class="'quote-pchg-'+ (symbol.quote.per|| 0 | moveSize : [2,5,7])">
                <!-- | movesize : [2,5,7] -->
              {{symbol.quote.per| number:1 }}%
            </div>

          </div>

          <div class="row gutter-1">
            <div class="col-md-3 col-xs-3 col-sm-3 text-right">
              <small><small>30D Chg : </small></small>
            </div>
            <div class="col-md-3 col-xs-3 col-sm-3" ng-class="'quote-pchg-'+ (symbol.quote.mPC || 0 | moveSize : [5,7,10])">
              {{symbol.quote.mPC | number:1}}%
            </div>

            <div class="col-md-3 col-xs-3 col-sm-3 text-right">
              <small><small>52W Chg : </small></small>
            </div>
            <div class="col-md-3 col-xs-3 col-sm-3" ng-class="'quote-pchg-'+ (symbol.quote.yPC || 0 | moveSize : [7,10,15])">
              {{symbol.quote.yPC | number:1}}%
            </div>

          </div>

          <div class="row gutter-1">
            <div class="col-md-3 col-xs-3 col-sm-3 text-right">
              <small><small>52 Wk High : </small></small>
            </div>
            <div class="col-md-3 col-xs-3 col-sm-3">
              {{1 * symbol.quote.wkhi.replace(',','') | currency}}
            </div>

            <div class="col-md-3 col-xs-3 col-sm-3 text-right">
              <small><small>52 Wk Low : </small></small>
            </div>
            <div class="col-md-3 col-xs-3 col-sm-3">
              {{1 * symbol.quote.wklo.replace(',','') | currency}}
            </div>

          </div>

          <div class="row gutter-1">
            <div class="col-md-3 col-xs-3 col-sm-3 text-right">
              <small><small>Open : </small></small>
            </div>
            <div class="col-md-3 col-xs-3 col-sm-3">
              {{1 * symbol.quote.open.replace(',','') | currency}}
            </div>

            <div class="col-md-3 col-xs-3 col-sm-3 text-right">
              <small><small>Change : </small></small>
            </div>
            <div class="col-md-3 col-xs-3 col-sm-3">
              {{symbol.quote.ptsC | currency}}   <!-- Close not available <--></-->
            </div>

          </div>

          <div class="row gutter-1">
            <div class="col-md-3 col-xs-3 col-sm-3 text-right">
              <small><small>High : </small></small>
            </div>
            <div class="col-md-3 col-xs-3 col-sm-3">
              {{1 * symbol.quote.high.replace(',','') | currency}}
            </div>

            <div class="col-md-3 col-xs-3 col-sm-3 text-right">
              <small><small>Low : </small></small>
            </div>
            <div class="col-md-3 col-xs-3 col-sm-3">
              {{1 * symbol.quote.low.replace(',','') | currency}}
            </div>

          </div>
        </div>

        </uib-accordion-group>

      </div>


    </div>
  </uib-accordion>
</div>
<!--
<ul class="thumbnails">
  <li ng-repeat="quote in symbolsGridCtrl.quotes.data | orderBy:symbolsGridCtrl.sortOrder | limitTo:20 | filter:symbolsGridCtrl.query" ng-show="symbol.quote.symbol == symbolsGridCtrl.selectedSymbolName">

    <div class="row session">
      <div class="span0 well votingWidget">
        <div class="votingButton" ng-click="upVoteSession(session)">
          <i class="icon-chevron-up icon-white"></i>
        </div>
        <div class="badge badge-inverse">
          <div>{{session.upVoteCount}}</div>
        </div>
        <div class="votingButton" ng-click="downVoteSession(session)">
          <i class="icon-chevron-down"></i>
        </div>
      </div>

      <div class="well span12">
        <h4 class="well-title">{{symbol.quote.symbol}}</h4>
        <h6 style="margin-top:-10px">{{symbol.quote.name}}</h6>
        <span>Duration: {{session.duration}}</span><br />
        <span>Level: {{session.level}}</span>

        <p>{{session.abstract}}</p>
      </div>
    </div>

  </li>
</ul>
-->